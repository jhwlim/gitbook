---
description: Real MySQL 8.0
---

# 4.2 InnoDB 스토리지 엔진 아키텍처

InnoDB는 MySQL에서 사용할 수 있는 스토리지 엔진 중 거의 유일하게 레코드 기반의 잠금을 제공하며, 그 때문에 높은 동시성 처리가 가능하고 안정적이며 성능이 뛰어나다.

## 1. 프라이머리 키에 의한 클러스터링

InnoDB의 모든 테이블은 기본적으로 프라이머리 키를 기준으로 클러스터링되어 저장된다.

즉, 프라이머리 키 값의 순서대로 디스크에 저장된다. 또한, 모든 세컨더리 인덱스는 레코드의 주소 대신 프라이머리 키의 값을 논리적인 주소로 사용한다.

프라이머리 키가 클러스터링 인덱스이기 때문에 프라이머리 키를 이용한 레인지 스캔은 상당히 빨리 처리될 수 있다.

결과적으로 쿼리의 실행 계획에서 프라이머리 키는 기본적으로 다른 보조 인덱스에 비해 비중이 높게 설정된다. → 쿼리의 실행 계획에서 다른 보조 인덱스보다 프라이머리 키가 선택될 확률이 높다.

### vs. MyISAM 스토리지 엔진

MyISAM 스토리지 엔진에서는 클러스터링 키를 지원하지 않는다. → MyISAM 테이블에서는 프라이머리 키와 세컨더리 인덱스는 구조적으로 아무런 차이가 없다.

프라이머리 키를 포함한 모든 인덱스는 물리적인 레코드의 주소 값(ROWID)을 가진다.

'4.3.3. 데이터 파일과 프라이머리 키(인덱스) 구조' 참고

## 2. 외래 키 지원

## 3. MVCC (Multi Version Concurrency Control)

## 4. 잠금 없는 일관된 읽기 (Non-Locking Consistent Read)

## 5. 자동 데드락 감지

## 6. 자동화된 장애 복구

## 7. InnoDB 버퍼 풀

## 8. Double Write Buffer

## 9. 언두 로그

## 10. 체인지 버퍼

## 11. 리두 로그 및 로그 버퍼

## 12. 어댑티브 해시 인덱스

## 13. InnoDB와 MyISAM, MEMORY 스토리지 엔진 비교
