---
description: 이펙티브 코틀린 정리하기
---

# 프로퍼티는 동작이 아니라 상태를 나타내야 한다

코틀린의 프로퍼티는 자바의 필드와 비슷해보이지만, 사실 서로 완전히 다른 개념이다.

## 프로퍼티의 기능

기본적으로 프로퍼티는 사용자 정의 세터와 게터를 가질 수 있다.

`var`를 사용해서 만든 읽고 쓸 수 있는 프로퍼티는 게터와 세터를 정의할 수 있다. 이러한 프로퍼티를 파생 프로퍼티라고 부른다. 이처럼 코틀린의 모든 프로퍼티는 디폴트로 캡슐화되어 있다.

프로퍼티는 필드가 아니라 접근자(`val`의 경우 게터, `var`의 경우 게터와 세터)를 나타낸다.

코틀린은 인터페이스에도 프로퍼티를 정의할 수 있다.

```kotlin
interface Person {
    val name: String // 게터를 가질 거라는 것을 나타낸다.
}
```

프로퍼티를 위임할 수도 있다.

```kotlin
val db: Database by lazy { contextToDb() }
```

프로퍼티는 본질적으로 함수이므로, 확장 프로퍼티를 만들 수도 있다.

{% hint style="warning" %}
프로퍼티를 함수 대신 사용할 수도 있지만, 그렇다면 완전히 대체해서 사용하는 것은 좋지 않다.
{% endhint %}

{% hint style="success" %}
원칙적으로 프로퍼티는 상태를 나타내거나 설정하기 위한 목적으로만 사용하는 것이 좋고, 다른 로직 등을 포함하지 않아야 한다.
{% endhint %}

관습적으로 게터는 많은 계산량이 필요하다고 예상하지 않는다. 많은 계산량을 필요로 하는 경우 프로퍼티가 아니라 함수로 구현해야 한다.

## 프로퍼티 대신 함수를 사용해야 하는 경우

- 연산 비용이 높거나 복잡도가 O(1)보다 큰 경우
- 비즈니스 로직(애플리케이션의 동작)을 포함하는 경우
- 같은 동작을 연속적으로 두 번 했는데 다른 값이 나올 수 있는 경우
- 다른 타입으로 변환하는 경우
- 게터에서 프로퍼티의 상태 변경이 일어나야 하는 경우
