---
description: 이펙티브 코틀린 정리하기
---

# 타입 파라미터의 섀도잉을 피하라

프로퍼티와 파라미터가 같은 이름을 가질 수 있다. 이렇게 되면 지역 파라미터가 외부 스코프에 있는 프로퍼티를 가린다. 이를 **섀도잉**이라고 한다.

섀도잉 현상은 클래스 타입 파라미터와 함수 타입 파라미터 사이에서도 발생한다. 개발자가 제대로 이해하지 못할 때, 이와 관련된 다양한 문제들이 발생한다.

```kotlin
interface Tree
class Birth: Tree
class Spruce: Tree

class Forest<T: Tree> { // (1)

    fun <T: Tree> addTree(tree: T) { ... } // (2)

}
```

(1)과 (2)에서 각각 타입 파라미터 `T`를 사용하고 있고, 독립적으로 동작한다.

이러한 상황을 의도하는 경우는 거의 없다. 또한 코드만 봐서는 둘이 독립적으로 동작한다는 것을 빠르게 알아내기 힘들다.

따라서 `addTree`가 클래스 타입 파라미터인 `T`를 사용하는 것이 좋다.

```kotlin
class Forest<T: Tree> {

    fun addTree(tree: T) { ... }

}
```

만약 독립적인 타입 파라미터를 의도했다면, 이름을 아예 다르게 다는 것이 좋다. 이때, 타입 파라미터를 사용해서 다른 타입 파라미터에 제한을 줄 수도 있다.

```kotlin
class Forest<T: Tree> {

    fun <ST: T> addTree(tree: ST) { ... }

}
```

## 정리

타입 파라미터 섀도잉을 피하라. 타입 파라미터 섀도잉이 발생한 코드는 이해하기 어려울 수 있다.